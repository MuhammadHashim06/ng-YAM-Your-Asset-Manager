<ng-container *ngIf="issuccessfull" >
  <app-alert [alert]="alertData"></app-alert>
<app-alert></app-alert>
</ng-container>
<div class="form">
    <form action=""  [formGroup]="loginuser" *ngIf="!isforget">
      <div class="head">
        <h1>Login to Account</h1>
        <p>Please enter your email and password to continue</p>
      </div>
      <div class="fields">
        <label for="email">Email Address:</label>
        <input type="text" id="email" name="email" placeholder="Enter your email" formControlName="email">
        @if (loginuser.controls['email'].errors && loginuser.controls['email'].touched) {
          @if(loginuser.controls['email'].errors['required']){
          <span class="error"> {{inputerrormessages.required}} </span>
          }@else if (loginuser.controls['email'].errors['email']) {
          <span class="error">
            {{inputerrormessages.email}}
          </span>
          }
          }
          <div class="label"><label for="password">Password:</label><p (click)="forget()" >Forget Password?</p></div>
        
        <input type="password" id="password" name="password" placeholder="  " formControlName="password" >
        @if (loginuser.controls['password'].errors && loginuser.controls['password'].touched) {
          @if(loginuser.controls['password'].errors['required']){
          <span class="error">This field is required</span>
          }@else if (loginuser.controls['password'].errors['passwordComplexity']) {
          <span class="error">
           {{inputerrormessages.password}}
          </span>
          }
          }
      </div>
      <div class="link">
        <button type="submit" (click)="login($event)">Sign In</button>
        <p>Don't have an account? <a routerLink="/auth/signup">Create Account</a></p>
      </div>
    </form>

    <form action="" *ngIf="isforget" >
      <div class="fields">
      <label for="email">Email Address:</label>
        <input type="text" id="email" name="email" placeholder="Enter your email" [(ngModel)]="email" #vemail="ngModel" required email>
        @if (vemail.errors && vemail.touched) {
          @if(vemail.errors['required']){
          <span class="error"> {{inputerrormessages.required}} </span>
          }@else if (vemail.errors['email']) {
          <span class="error">
            {{inputerrormessages.email}}
          </span>
          }
          }
        </div>
        <div class="link">
          <button type="submit" (click)="verifyrmail($event)">Verify Email</button>
          <p>Don't have an account? <a routerLink="/auth/signup">Create Account</a></p>
        </div>
    </form>
  </div>
  